# ============================================================================
# Robot System Configuration
# ============================================================================
# This configuration file is used across all run scripts and ROS2 nodes
# to maintain consistent behavior throughout the sorting system.
#
# Units: millimeters (mm), grams (g), seconds (s), radians (rad)
# ============================================================================

# ----------------------------------------------------------------------------
# Z Heights (mm) - tool0 frame
# ----------------------------------------------------------------------------
z_heights:
  home: 371.0        # Safe home position
  descend: 210.0     # Calibration and weighing height
  pickup: 180.0      # Height to pick up weights
  place: 180.0       # Height to place weights

# ----------------------------------------------------------------------------
# Default End-Effector Orientation (radians)
# ----------------------------------------------------------------------------
orientation:
  rx: 2.221   # Roll - facing down
  ry: 2.221   # Pitch - facing down
  rz: 0.0     # Yaw

# ----------------------------------------------------------------------------
# Placement Configuration (mm)
# ----------------------------------------------------------------------------
placement:
  weight_gap: 50.0   # Edge-to-edge gap between placed weights

# ----------------------------------------------------------------------------
# Weight Specifications
# ----------------------------------------------------------------------------
# Each weight configuration includes:
#   - diameter: Physical diameter in mm
#   - weighting_time: Time to wait for weight measurement to stabilize (seconds)
#   - grip_angle_offset: Optional gripper angle adjustment for this weight
weights:
  500:  # 500g weight
    diameter: 43.0
    weighting_time: 15
    description: "500g weight - largest, needs longer stabilization"

  200:  # 200g weight
    diameter: 32.0
    weighting_time: 12
    description: "200g weight - medium size"

  100:  # 100g weight
    diameter: 25.0
    weighting_time: 15
    description: "100g weight - smallest, but needs longer time due to grip angle"

# ----------------------------------------------------------------------------
# Default Weighting Configuration
# ----------------------------------------------------------------------------
# Used when weight is unknown or not in the above list
weighting_defaults:
  default_time: 10           # Default weighting time in seconds
  unknown_weight_time: 10    # Time for unrecognized weights

# ----------------------------------------------------------------------------
# Gripper Configuration
# ----------------------------------------------------------------------------
gripper:
  default_grip_weight: 100   # Default grip weight parameter in grams
  open_angle: 0              # Fully open angle (degrees or servo value)
  closed_angle: 100          # Fully closed angle (degrees or servo value)

# ----------------------------------------------------------------------------
# Motion Parameters
# ----------------------------------------------------------------------------
motion:
  default_velocity_scaling: 0.5    # Default velocity scaling factor (0.0-1.0)
  default_acceleration_scaling: 0.5 # Default acceleration scaling factor (0.0-1.0)

# ----------------------------------------------------------------------------
# Default Positions (mm)
# ----------------------------------------------------------------------------
# Common pickup/place positions used in simple operations
positions:
  default_x: -600.0
  default_y: -100.0

  # Sorting bin positions (can be expanded)
  bin_100g:
    x: -400.0
    y: -200.0

  bin_200g:
    x: -400.0
    y: 0.0

  bin_500g:
    x: -400.0
    y: 200.0

# ----------------------------------------------------------------------------
# Calibration Parameters
# ----------------------------------------------------------------------------
calibration:
  calibration_timeout: 10.0  # Maximum time to wait for calibration (seconds)
  samples_per_calibration: 5 # Number of samples for baseline calibration
